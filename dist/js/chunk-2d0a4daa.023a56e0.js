(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4daa"],{"07e2":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("main",{staticClass:"container my-5"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._m(0),t.order.is_paid?a("div",{staticClass:"mt-3 text-primary",staticStyle:{"font-size":"1.2rem"}},[a("strong",[t._v(t._s(t.order.user.name))]),t._v(" 小姐/先生：\n    "),a("br"),t._v("感謝您對\n    "),a("strong",[t._v("翠絲服飾")]),t._v(" 的支持，以下是您的結帳明細，請妥善保管哦。\n  ")]):t._e(),a("form",{staticClass:"my-4 row",on:{submit:function(s){return s.preventDefault(),t.payOrder()}}},[a("div",{staticClass:"col-md-6"},[a("h5",{staticClass:"font-weight-bold mb-2"},[t._v("購買商品細節")]),a("table",{staticClass:"table"},[t._m(1),a("tbody",t._l(t.order.products,(function(s){return a("tr",{key:s.id},[a("td",{staticClass:"align-middle"},[t._v(t._s(s.product.title))]),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(s.qty)+t._s(s.product.unit))]),a("td",{staticClass:"align-middle text-right"},[t._v("NT "+t._s(t._f("currency")(s.final_total)))])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v("NT "+t._s(t._f("currency")(t.order.total)))])])])])]),a("div",{staticClass:"col-md-6"},[a("h5",{staticClass:"font-weight-bold mb-2"},[t._v("購買人資料")]),t.order.user?a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",{staticClass:"alert-light",attrs:{width:"120"}},[t._v("訂單序號")]),a("td",[t._v(t._s(t.order.id))])]),a("tr",[a("th",{staticClass:"alert-light",attrs:{width:"120"}},[t._v("Email")]),a("td",[t._v(t._s(t.order.user.email))])]),a("tr",[a("th",{staticClass:"alert-light"},[t._v("姓名")]),a("td",[t._v(t._s(t.order.user.name))])]),a("tr",[a("th",{staticClass:"alert-light"},[t._v("收件人電話")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("th",{staticClass:"alert-light"},[t._v("收件人地址")]),a("td",[t._v(t._s(t.order.user.address))])]),a("tr",[a("th",{staticClass:"alert-light"},[t._v("付款狀態")]),a("td",[t.order.is_paid?a("span",{staticClass:"text-success"},[t._v("\n                付款完成\n                "),a("i",{staticClass:"far fa-check-circle"})]):a("span",{staticClass:"text-danger"},[t._v("尚未付款")])])])])]):t._e(),t.order.is_paid?t._e():a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-lg btn-danger"},[t._v("確認付款去")])])])]),t.order.is_paid?a("div",{staticClass:"text-center"},[a("router-link",{staticClass:"btn btn-primary btn-lg",attrs:{to:"/store/customer_products"}},[a("i",{staticClass:"fas fa-angle-right"}),t._v("\n      繼續購物\n      "),a("i",{staticClass:"fas fa-angle-left"})]),a("router-link",{staticClass:"btn btn-info btn-lg ml-5",attrs:{to:"/store/my_order"}},[a("i",{staticClass:"fas fa-angle-right"}),t._v("\n      我的訂單\n      "),a("i",{staticClass:"fas fa-angle-left"})])],1):t._e()],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"form-row mt-5"},[a("div",{staticClass:"col-sm"},[a("div",{staticClass:"alert alert-light text-center"},[a("p",{staticClass:"h3 font-weight-bold"},[t._v("STEP 1")]),t._v("確認購物清單\n      ")])]),a("div",{staticClass:"col-sm"},[a("div",{staticClass:"alert alert-light text-center"},[a("p",{staticClass:"h3 font-weight-bold"},[t._v("STEP 2")]),t._v("填寫訂單資料\n      ")])]),a("div",{staticClass:"col-sm"},[a("div",{staticClass:"alert alert-success text-center"},[a("p",{staticClass:"h3 font-weight-bold"},[t._v("STEP 3")]),t._v("完成訂單！\n      ")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",{staticClass:"alert-light"},[a("th",[t._v("品名")]),a("th",{staticClass:"text-right",attrs:{width:"120"}},[t._v("數量")]),a("th",{staticClass:"text-right",attrs:{width:"150"}},[t._v("單價")])])}],r={data:function(){return{order:[],isLoading:!1,filterLoadingItem:"",isDisabled:""}},methods:{getOrder:function(){var t=this;t.isLoading=!0;var s=t.$route.params.orderId,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("dress_store","/order/").concat(s);t.$http.get(a).then((function(s){console.log("完成訂單-取得訂單",s),s.data.success&&(t.order=s.data.order,t.isLoading=!1)}))},payOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("dress_store","/pay/").concat(t.order.id);this.$http.post(s,t.order.id).then((function(s){console.log("完成訂單-結帳付款",s.data),s.data.success&&(t.order.is_paid=!0)}))}},created:function(){this.getOrder()}},l=r,c=a("2877"),n=Object(c["a"])(l,e,i,!1,null,null,null);s["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d0a4daa.023a56e0.js.map