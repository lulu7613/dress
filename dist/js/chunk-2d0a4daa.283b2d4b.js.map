{"version":3,"sources":["webpack:///./src/views/CustomerFinish.vue?7112","webpack:///src/views/CustomerFinish.vue","webpack:///./src/views/CustomerFinish.vue?c837","webpack:///./src/views/CustomerFinish.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_m","order","staticStyle","_v","_s","user","name","_e","preventDefault","payOrder","_l","item","key","id","product","title","qty","unit","_f","final_total","total","email","tel","address","message","is_paid","staticRenderFns","data","filterLoadingItem","isDisabled","methods","getOrder","vm","$http","get","api","then","console","log","response","success","post","created","component"],"mappings":"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","file":"js/chunk-2d0a4daa.283b2d4b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"container my-5\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._m(0),(_vm.order.is_paid)?_c('div',{staticClass:\"mt-3 text-primary\",staticStyle:{\"font-size\":\"1.2rem\"}},[_c('strong',[_vm._v(_vm._s(_vm.order.user.name))]),_vm._v(\" 小姐/先生：\\n    \"),_c('br'),_vm._v(\"感謝您對\\n    \"),_c('strong',[_vm._v(\"翠絲服飾\")]),_vm._v(\" 的支持，以下是您的結帳明細，請妥善保管哦。\\n  \")]):_vm._e(),_c('form',{staticClass:\"my-4 row\",on:{\"submit\":function($event){$event.preventDefault();return _vm.payOrder()}}},[_c('div',{staticClass:\"col-md-6\"},[_c('h5',{staticClass:\"font-weight-bold mb-2\"},[_vm._v(\"購買商品細節\")]),_c('table',{staticClass:\"table\"},[_vm._m(1),_c('tbody',_vm._l((_vm.order.products),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(_vm._s(item.qty)+_vm._s(item.product.unit))]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(\"NT \"+_vm._s(_vm._f(\"currency\")(item.final_total)))])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"NT \"+_vm._s(_vm._f(\"currency\")(_vm.order.total)))])])])])]),_c('div',{staticClass:\"col-md-6\"},[_c('h5',{staticClass:\"font-weight-bold mb-2\"},[_vm._v(\"購買人資料\")]),(_vm.order.user)?_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('th',{staticClass:\"alert-light\",attrs:{\"width\":\"120\"}},[_vm._v(\"訂單序號\")]),_c('td',[_vm._v(_vm._s(_vm.order.id))])]),_c('tr',[_c('th',{staticClass:\"alert-light\",attrs:{\"width\":\"120\"}},[_vm._v(\"Email\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('th',{staticClass:\"alert-light\"},[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',{staticClass:\"alert-light\"},[_vm._v(\"收件人電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',{staticClass:\"alert-light\"},[_vm._v(\"收件人地址\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('th',{staticClass:\"alert-light\"},[_vm._v(\"留言\")]),_c('td',[_vm._v(_vm._s(_vm.order.message))])]),_c('tr',[_c('th',{staticClass:\"alert-light\"},[_vm._v(\"付款狀態\")]),_c('td',[(!_vm.order.is_paid)?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"尚未付款\")]):_c('span',{staticClass:\"text-success\"},[_vm._v(\"\\n                付款完成\\n                \"),_c('i',{staticClass:\"far fa-check-circle\"})])])])])]):_vm._e(),(!_vm.order.is_paid)?_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-lg btn-danger\"},[_vm._v(\"確認付款去\")])]):_vm._e()])]),(_vm.order.is_paid)?_c('div',{staticClass:\"text-center\"},[_c('router-link',{staticClass:\"btn btn-primary btn-lg\",attrs:{\"to\":\"/customer_products\"}},[_c('i',{staticClass:\"fas fa-shopping-cart\"}),_vm._v(\"\\n      繼續購物\\n    \")]),_c('router-link',{staticClass:\"btn btn-primary btn-lg ml-5\",attrs:{\"to\":\"/my_order\"}},[_c('i',{staticClass:\"fas fa-columns\"}),_vm._v(\"\\n      我的訂單\\n    \")])],1):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-row mt-5\"},[_c('div',{staticClass:\"col-sm\"},[_c('div',{staticClass:\"alert alert-light text-center\"},[_c('p',{staticClass:\"h3 font-weight-bold\"},[_vm._v(\"STEP 1\")]),_vm._v(\"確認購物清單\\n      \")])]),_c('div',{staticClass:\"col-sm\"},[_c('div',{staticClass:\"alert alert-light text-center\"},[_c('p',{staticClass:\"h3 font-weight-bold\"},[_vm._v(\"STEP 2\")]),_vm._v(\"填寫訂單資料\\n      \")])]),_c('div',{staticClass:\"col-sm\"},[_c('div',{staticClass:\"alert alert-success text-center\"},[_c('p',{staticClass:\"h3 font-weight-bold\"},[_vm._v(\"STEP 3\")]),_vm._v(\"完成訂單！\\n      \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"alert-light\"},[_c('th',[_vm._v(\"品名\")]),_c('th',{staticClass:\"text-right\",attrs:{\"width\":\"120\"}},[_vm._v(\"數量\")]),_c('th',{staticClass:\"text-right\",attrs:{\"width\":\"150\"}},[_vm._v(\"單價\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <main class=\"container my-5\">\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <!-- 步驟提示 -->\r\n    <div class=\"form-row mt-5\">\r\n      <div class=\"col-sm\">\r\n        <div class=\"alert alert-light text-center\">\r\n          <p class=\"h3 font-weight-bold\">STEP 1</p>確認購物清單\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm\">\r\n        <div class=\"alert alert-light text-center\">\r\n          <p class=\"h3 font-weight-bold\">STEP 2</p>填寫訂單資料\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm\">\r\n        <div class=\"alert alert-success text-center\">\r\n          <p class=\"h3 font-weight-bold\">STEP 3</p>完成訂單！\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"mt-3 text-primary\" style=\"font-size: 1.2rem\" v-if=\"order.is_paid\">\r\n      <strong>{{ order.user.name }}</strong> 小姐/先生：\r\n      <br />感謝您對\r\n      <strong>翠絲服飾</strong> 的支持，以下是您的結帳明細，請妥善保管哦。\r\n    </div>\r\n\r\n    <form class=\"my-4 row\" @submit.prevent=\"payOrder()\">\r\n      <div class=\"col-md-6\">\r\n        <h5 class=\"font-weight-bold mb-2\">購買商品細節</h5>\r\n        <table class=\"table\">\r\n          <thead class=\"alert-light\">\r\n            <th>品名</th>\r\n            <th width=\"120\" class=\"text-right\">數量</th>\r\n            <th width=\"150\" class=\"text-right\">單價</th>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in order.products\" :key=\"item.id\">\r\n              <td class=\"align-middle\">{{ item.product.title }}</td>\r\n              <td class=\"align-middle text-right\">{{ item.qty }}{{ item.product.unit }}</td>\r\n              <td class=\"align-middle text-right\">NT {{ item.final_total | currency }}</td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <td colspan=\"2\" class=\"text-right\">總計</td>\r\n              <td class=\"text-right\">NT {{ order.total | currency }}</td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n      </div>\r\n      <div class=\"col-md-6\">\r\n        <h5 class=\"font-weight-bold mb-2\">購買人資料</h5>\r\n        <table class=\"table\" v-if=\"order.user\">\r\n          <tbody>\r\n            <tr>\r\n              <th class=\"alert-light\" width=\"120\">訂單序號</th>\r\n              <td>{{ order.id }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class=\"alert-light\" width=\"120\">Email</th>\r\n              <td>{{ order.user.email }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class=\"alert-light\">姓名</th>\r\n              <td>{{ order.user.name }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class=\"alert-light\">收件人電話</th>\r\n              <td>{{ order.user.tel }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class=\"alert-light\">收件人地址</th>\r\n              <td>{{ order.user.address }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class=\"alert-light\">留言</th>\r\n              <td>{{ order.message }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class=\"alert-light\">付款狀態</th>\r\n              <td>\r\n                <span class=\"text-danger\" v-if=\"!order.is_paid\">尚未付款</span>\r\n                <span v-else class=\"text-success\">\r\n                  付款完成\r\n                  <i class=\"far fa-check-circle\"></i>\r\n                </span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div class=\"text-right\" v-if=\"!order.is_paid\">\r\n          <button class=\"btn btn-lg btn-danger\">確認付款去</button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    <div class=\"text-center\" v-if=\"order.is_paid\">\r\n      <router-link class=\"btn btn-primary btn-lg\" to=\"/customer_products\">\r\n        <i class=\"fas fa-shopping-cart\"></i>\r\n        繼續購物\r\n      </router-link>\r\n      <router-link class=\"btn btn-primary btn-lg ml-5\" to=\"/my_order\">\r\n        <i class=\"fas fa-columns\"></i>\r\n        我的訂單\r\n      </router-link>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      order: [],\r\n      isLoading: false,\r\n      filterLoadingItem: '',\r\n      isDisabled: ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // 取得訂單\r\n    getOrder () {\r\n      const vm = this\r\n      vm.isLoading = true\r\n      const orderId = vm.$route.params.orderId\r\n      const api = `${process.env.VUE_APP_PATH}/api/${process.env.VUE_APP_ADMIN}/order/${orderId}`\r\n      vm.$http.get(api).then((response) => {\r\n        console.log('完成訂單-取得訂單', response)\r\n        if (response.data.success) {\r\n          vm.order = response.data.order\r\n          vm.isLoading = false\r\n        }\r\n      })\r\n    },\r\n\r\n    // 結帳付款\r\n    payOrder () {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_PATH}/api/${process.env.VUE_APP_ADMIN}/pay/${vm.order.id}`\r\n      this.$http.post(api, vm.order.id).then((response) => {\r\n        console.log('完成訂單-結帳付款', response.data)\r\n        if (response.data.success) {\r\n          vm.order.is_paid = true\r\n        }\r\n      })\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerFinish.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerFinish.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerFinish.vue?vue&type=template&id=a2a27b20&\"\nimport script from \"./CustomerFinish.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerFinish.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}