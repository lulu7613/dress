{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./src/views/CustomerProducts.vue?fdae","webpack:///./src/views/CustomerProducts.vue?dcea","webpack:///src/views/CustomerProducts.vue","webpack:///./src/views/CustomerProducts.vue?614b","webpack:///./src/views/CustomerProducts.vue?869d"],"names":["anObject","toLength","advanceStringIndex","regExpExec","defined","MATCH","$match","maybeCallNative","regexp","O","this","fn","undefined","call","RegExp","String","res","done","value","rx","S","global","fullUnicode","unicode","lastIndex","result","A","n","matchStr","render","_vm","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","class","type","preventDefault","getfilterProducts","_e","_v","directives","name","rawName","expression","staticStyle","domProps","indexOf","_k","keyCode","key","target","composing","keyword","myFavorite","length","myOrder","Breadcrumb","filterProducts","getFavorite","staticRenderFns","components","Banner","ProductTemplate","data","category","products","JSON","parse","localStorage","getItem","methods","getProdects","vm","$http","get","api","then","console","log","response","success","forEach","item","push","title","match","filter","id","itemId","splice","index","created","$bus","$on","beforeDestroy","$off","component"],"mappings":"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","file":"js/chunk-581e787c.eabdebe6.js","sourcesContent":["'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerProducts.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerProducts.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('Banner',{staticClass:\"mb-5\"}),_c('div',{staticClass:\"col-md-11 mx-auto\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-2 mb-4\"},[_c('div',{staticClass:\"nav flex-column sticky-top\"},[_c('span',{staticClass:\"nav-link mb-2 active products-type\",class:{'products-active': _vm.type === 'all'},on:{\"click\":function($event){$event.preventDefault();return _vm.getfilterProducts('all')}}},[(_vm.type === 'all')?_c('i',{staticClass:\"fas fa-angle-right\"}):_vm._e(),_vm._v(\"\\n              全部商品\\n            \")]),_c('span',{staticClass:\"nav-link mb-2 products-type\",class:{'products-active': _vm.type === 'topic'},on:{\"click\":function($event){$event.preventDefault();return _vm.getfilterProducts('topic')}}},[(_vm.type === 'topic')?_c('i',{staticClass:\"fas fa-angle-right\"}):_vm._e(),_vm._v(\"\\n              主題商品\\n            \")]),_c('span',{staticClass:\"nav-link mb-2 products-type\",class:{'products-active': _vm.type === 'hot'},on:{\"click\":function($event){$event.preventDefault();return _vm.getfilterProducts('hot')}}},[(_vm.type === 'hot')?_c('i',{staticClass:\"fas fa-angle-right\"}):_vm._e(),_vm._v(\"\\n              人氣精選\\n            \")]),_c('span',{staticClass:\"nav-link products-type\",class:{'products-active': _vm.type === 'discount'},on:{\"click\":function($event){$event.preventDefault();return _vm.getfilterProducts('discount')}}},[(_vm.type === 'discount')?_c('i',{staticClass:\"fas fa-angle-right\"}):_vm._e(),_vm._v(\"\\n              清倉55折\\n            \")]),_c('div',{staticClass:\"input-group mt-2 mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],staticClass:\"form-control\",staticStyle:{\"border\":\"1px solid #4b9983\"},attrs:{\"type\":\"text\",\"placeholder\":\"輸入關鍵字\"},domProps:{\"value\":(_vm.keyword)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getfilterProducts('search')},\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.getfilterProducts('search')}}},[_c('i',{staticClass:\"fas fa-search\"})])])]),(_vm.myFavorite.length > 0)?_c('a',{staticClass:\"nav-link mb-2 my-products animated slideInLeft\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getfilterProducts('favorite')}}},[_c('i',{staticClass:\"fas fa-heart\"}),_vm._v(\"\\n              我的最愛\\n            \")]):_vm._e(),(_vm.myOrder.length > 0)?_c('router-link',{staticClass:\"nav-link my-products animated slideInLeft\",attrs:{\"to\":\"/my_order\"}},[_c('i',{staticClass:\"fas fa-columns\"}),_vm._v(\"\\n              我的訂單\\n            \")]):_vm._e()],1)]),_c('div',{staticClass:\"col-lg-10\"},[_c('Breadcrumb',{staticClass:\"pl-0\",attrs:{\"propsData\":_vm.Breadcrumb}}),_c('ProductTemplate',{attrs:{\"propsData\":_vm.filterProducts,\"propsFavorite\":_vm.myFavorite},on:{\"emitFavoriteId\":_vm.getFavorite}}),(_vm.type === 'search' && _vm.filterProducts.length === 0)?_c('p',{staticClass:\"text-danger text-center\"},[_vm._v(\"哎呀！我們搜尋不到您輸入的關鍵字。\")]):_vm._e(),(_vm.type === 'favorite' && _vm.filterProducts.length === 0)?_c('p',{staticClass:\"text-danger text-center\"},[_vm._v(\"您還沒有加入我的最愛商品，趕快去逛逛吧～\")]):_vm._e()],1)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <Banner class=\"mb-5\" />\r\n    <!-- 商品區塊 -->\r\n    <div class=\"col-md-11 mx-auto\">\r\n      <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n          <!-- 列表 -->\r\n          <div class=\"col-lg-2 mb-4\">\r\n            <div class=\"nav flex-column sticky-top\">\r\n              <span\r\n                class=\"nav-link mb-2 active products-type\"\r\n                :class=\"{'products-active': type === 'all'}\"\r\n                @click.prevent=\"getfilterProducts('all')\"\r\n              >\r\n                <i class=\"fas fa-angle-right\" v-if=\"type === 'all'\"></i>\r\n                全部商品\r\n              </span>\r\n              <span\r\n                class=\"nav-link mb-2 products-type\"\r\n                :class=\"{'products-active': type === 'topic'}\"\r\n                @click.prevent=\"getfilterProducts('topic')\"\r\n              >\r\n                <i class=\"fas fa-angle-right\" v-if=\"type === 'topic'\"></i>\r\n                主題商品\r\n              </span>\r\n              <span\r\n                class=\"nav-link mb-2 products-type\"\r\n                :class=\"{'products-active': type === 'hot'}\"\r\n                @click.prevent=\"getfilterProducts('hot')\"\r\n              >\r\n                <i class=\"fas fa-angle-right\" v-if=\"type === 'hot'\"></i>\r\n                人氣精選\r\n              </span>\r\n              <span\r\n                class=\"nav-link products-type\"\r\n                :class=\"{'products-active': type === 'discount'}\"\r\n                @click.prevent=\"getfilterProducts('discount')\"\r\n              >\r\n                <i class=\"fas fa-angle-right\" v-if=\"type === 'discount'\"></i>\r\n                清倉55折\r\n              </span>\r\n\r\n              <div class=\"input-group mt-2 mb-3\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  style=\"border: 1px solid #4b9983\"\r\n                  placeholder=\"輸入關鍵字\"\r\n                  v-model=\"keyword\"\r\n                  @keyup.enter=\"getfilterProducts('search')\"\r\n                />\r\n                <div class=\"input-group-append\">\r\n                  <button\r\n                    class=\"btn btn-primary\"\r\n                    type=\"button\"\r\n                    @click=\"getfilterProducts('search')\"\r\n                  >\r\n                    <i class=\"fas fa-search\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <a\r\n                class=\"nav-link mb-2 my-products animated slideInLeft\"\r\n                href=\"#\"\r\n                v-if=\"myFavorite.length > 0\"\r\n                @click.prevent=\"getfilterProducts('favorite')\"\r\n              >\r\n                <i class=\"fas fa-heart\"></i>\r\n                我的最愛\r\n              </a>\r\n              <router-link\r\n                class=\"nav-link my-products animated slideInLeft\"\r\n                to=\"/my_order\"\r\n                v-if=\"myOrder.length > 0\"\r\n              >\r\n                <i class=\"fas fa-columns\"></i>\r\n                我的訂單\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n          <!-- 內容 -->\r\n          <div class=\"col-lg-10\">\r\n            <Breadcrumb class=\"pl-0\" :propsData=\"Breadcrumb\" />\r\n            <ProductTemplate\r\n              :propsData=\"filterProducts\"\r\n              :propsFavorite=\"myFavorite\"\r\n              @emitFavoriteId=\"getFavorite\"\r\n            />\r\n            <p\r\n              class=\"text-danger text-center\"\r\n              v-if=\"type === 'search' && filterProducts.length === 0\"\r\n            >哎呀！我們搜尋不到您輸入的關鍵字。</p>\r\n            <p\r\n              class=\"text-danger text-center\"\r\n              v-if=\"type === 'favorite' && filterProducts.length === 0\"\r\n            >您還沒有加入我的最愛商品，趕快去逛逛吧～</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Banner from '../components/Banner.vue'\r\nimport Breadcrumb from '../components/Breadcrumb.vue'\r\nimport ProductTemplate from '../components/ProductTemplate.vue'\r\n\r\nexport default {\r\n  components: {\r\n    Banner,\r\n    Breadcrumb,\r\n    ProductTemplate\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      Breadcrumb: {\r\n        category: '全部商品'\r\n      },\r\n      products: [],\r\n      type: '',\r\n      filterProducts: [],\r\n      myOrder: JSON.parse(localStorage.getItem('dressMyOrder')) || [],\r\n      myFavorite: JSON.parse(localStorage.getItem('dressMyFavorite')) || [],\r\n      keyword: '',\r\n\r\n      isLoading: false\r\n\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // 取得全部商品列表\r\n    getProdects (type = 'all') {\r\n      const vm = this\r\n      vm.isLoading = true\r\n      const api = `${process.env.VUE_APP_PATH}/api/${process.env.VUE_APP_ADMIN}/products/all`\r\n      vm.$http.get(api).then((response) => {\r\n        console.log('全部商品', response.data)\r\n        if (response.data.success) {\r\n          vm.products = response.data.products\r\n          vm.filterProducts = response.data.products\r\n          vm.getfilterProducts(type)\r\n          vm.isLoading = false\r\n        }\r\n      })\r\n    },\r\n\r\n    // 篩選商品列表\r\n    getfilterProducts (type) {\r\n      const vm = this\r\n      vm.type = type\r\n      if (vm.type === 'all') {\r\n        vm.type = 'all'\r\n        vm.Breadcrumb.category = '全部商品'\r\n        vm.filterProducts = []\r\n        vm.filterProducts = vm.products\r\n      } else if (type === 'topic') {\r\n        vm.type = 'topic'\r\n        vm.Breadcrumb.category = '主題商品'\r\n        vm.filterProducts = []\r\n        vm.products.forEach((item) => {\r\n          if (item.category === '主題商品') {\r\n            vm.filterProducts.push(item)\r\n          }\r\n        })\r\n      } else if (vm.type === 'hot') {\r\n        vm.type = 'hot'\r\n        vm.Breadcrumb.category = '人氣精選'\r\n        vm.filterProducts = []\r\n        vm.products.forEach((item) => {\r\n          if (item.category === '人氣精選') {\r\n            vm.filterProducts.push(item)\r\n          }\r\n        })\r\n      } else if (vm.type === 'discount') {\r\n        vm.type = 'discount'\r\n        vm.Breadcrumb.category = '清倉55折'\r\n        vm.filterProducts = []\r\n        vm.products.forEach((item) => {\r\n          if (item.category === '清倉55折') {\r\n            vm.filterProducts.push(item)\r\n          }\r\n        })\r\n      } else if (vm.type === 'search') {\r\n        vm.type = 'search'\r\n        vm.Breadcrumb.category = `搜尋: ${vm.keyword}`\r\n        vm.filterProducts = []\r\n        vm.products.forEach((item) => {\r\n          if (item.title.match(vm.keyword) || item.category.match(vm.keyword)) {\r\n            vm.filterProducts.push(item)\r\n          }\r\n        })\r\n        vm.keyword = ''\r\n      } else if (vm.type === 'favorite') {\r\n        vm.type = 'favorite'\r\n        vm.Breadcrumb.category = `我的最愛`\r\n        vm.filterProducts = vm.myFavorite\r\n      }\r\n    },\r\n\r\n    // localStorage 獲取 favorite 變化\r\n    getFavorite (itemId) {\r\n      const vm = this\r\n      vm.myFavorite = JSON.parse(localStorage.getItem('dressMyFavorite')) || []\r\n      if (vm.type === 'favorite') {\r\n        vm.filterProducts.filter((item, index) => {\r\n          if (item.id === itemId) {\r\n            vm.filterProducts.splice(index, 1)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n\r\n  created () {\r\n    const vm = this\r\n    vm.getProdects()\r\n\r\n    // $on 自定義事件 (類似原生 JS 的 addEventListener)\r\n    vm.$bus.$on('getProductsType:type', (type) => {\r\n      this.getProdects(type)\r\n    })\r\n  },\r\n\r\n  beforeDestroy () {\r\n    this.$bus.$off('getProductsType:type')\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.products-type {\r\n  border: 1px dashed #4b9983;\r\n  cursor: pointer;\r\n  color: #4b9983\r\n}\r\n\r\n.products-active {\r\n  background-color: #4b9983;\r\n  color: #fff;\r\n  z-index: 1040;\r\n}\r\n\r\n.my-products {\r\n  border: 1px dashed #eb6241;\r\n  background-color: #eb6241;\r\n  color: #fff;\r\n  /* border: 1px dashed #eb6241;\r\n  background-color: #fff;\r\n  color: #eb6241; */\r\n}\r\n\r\n.my-products:hover {\r\n  color: #fff;\r\n  background-color: #e93406;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerProducts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerProducts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerProducts.vue?vue&type=template&id=43535e43&\"\nimport script from \"./CustomerProducts.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerProducts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomerProducts.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}